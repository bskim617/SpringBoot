<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>index</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
		<script>
			$(document).ready(function(){
				// user1 목록1 요청
				$('.user1_list1').click(function(){
					$.ajax({
						'url': '/Ch09/user1',
						'method': 'GET',
						'dataType': 'json',
						'success': function(data){
							console.log(data);
						}
					});
				});
				
				// user1 목록2 요청
				$('.user1_list2').click(function(){
					$.ajax({
						'url': '/Ch09/user1/r101',
						'method': 'GET',
						'dataType': 'json',
						'success': function(data){
							console.log(data);
						}
					});
				});
				
				// user1 등록 요청
				$('.user1_register').click(function(){
					
					let jsonData = {
							"uid" : "r101",
							"name" : "홍길동",
							"hp" : "010-1234-1111",
							"age" : 21
					}
					
					$.ajax({
						url: '/Ch09/user1',
						method: 'POST',
						data : jsonData,
						dataType: 'json',
						success: function(data){
							console.log(data);
						}
					});
				});
				
				// user1 수정 요청
				$('.user1_modify').click(function(){
					
					let jsonData = {
							"uid" : "r101",
							"name" : "홍길동",
							"hp" : "010-1234-2222",
							"age" : 27
					}
					
					$.ajax({
						url: '/Ch09/user1',
						method: 'PUT',
						data : jsonData,
						dataType: 'json',
						success: function(data){
							console.log(data);
						}
					});
				});
				
				// user1 삭제 요청
				$('.user1_delete').click(function(){
					
					$.ajax({
						url: '/Ch09/user1/r101',
						method: 'DELETE',
						dataType: 'json',
						success: function(data){
							console.log(data);
						}
					});
				});
				
				// member 목록1 요청
				$('.member_list1').click(function(){
					$.ajax({
						'url': '/Ch09/member',
						'method': 'GET',
						'dataType': 'json',
						'success': function(data){
							console.log(data);
						}
					});
				});
				
				// member 목록2 요청
				$('.member_list2').click(function(){
					$.ajax({
						'url': '/Ch09/member/r101',
						'method': 'GET',
						'dataType': 'json',
						'success': function(data){
							console.log(data);
						}
					});
				});
				
				// member 등록 요청
				$('.member_register').click(function(){
					
					let jsonData = {
							"uid" : "r101",
							"name" : "홍길동",
							"hp" : "010-1234-1111",
							"pos" : "사원",
							"dep" : 104
					}
					
					$.ajax({
						url: '/Ch09/member',
						method: 'POST',
						data : jsonData,
						dataType: 'json',
						success: function(data){
							console.log(data);
						}
					});
				});
				
				// member 수정 요청
				$('.member_modify').click(function(){
					
					let jsonData = {
							"uid" : "r101",
							"name" : "홍길동",
							"hp" : "010-1234-2222",
							"pos" : "대리",
							"dep" : 101
					}
					
					$.ajax({
						url: '/Ch09/member',
						method: 'PUT',
						data : jsonData,
						dataType: 'json',
						success: function(data){
							console.log(data);
						}
					});
				});
				
				// member 삭제 요청
				$('.member_delete').click(function(){
					
					$.ajax({
						url: '/Ch09/member/r101',
						method: 'DELETE',
						dataType: 'json',
						success: function(data){
							console.log(data);
						}
					});
				});
				
				
			});
		</script>
	</head>
	<body>
		<h3>Ch09.Spring REST 서비스 실습</h3>
		
		<h4>user1</h4>
		<button class="user1_list1">user1 목록1</button>
		<button class="user1_list2">user1 목록2</button>
		<button class="user1_register">user1 등록</button>
		<button class="user1_modify">user1 수정</button>
		<button class="user1_delete">user1 삭제</button>
		
		<h4>member</h4>
		<button class="member_list1">member 목록1</button>
		<button class="member_list2">member 목록2</button>
		<button class="member_register">member 등록</button>
		<button class="member_modify">member 수정</button>
		<button class="member_delete">member 삭제</button>
		
	</body>
</html>